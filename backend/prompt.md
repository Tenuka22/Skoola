# Sri Lankan School LMS - Development Tasks

## Project Context
**Tech Stack:** Rust / Actix + Diesel ORM  Already Configired
**Database:** SQLITE (recommended for Diesel) Already Configired  
**Architecture:** RESTful API Server Already Configired
**Authentication:** Already configured

Add your notes to help you future self. Only simple things and where which files existc.
// Error Handling:
// - Custom `APIError` struct in `src/errors/mod.rs` is used for consistent API error responses.
// - `APIError` implements `actix_web::ResponseError` for automatic conversion to HTTP responses.
// - `APIError` has convenient constructors for common HTTP status codes (e.g., `bad_request`, `unauthorized`, `internal`).
// - Database errors (`diesel::result::Error`, `r2d2::Error`) are converted to `APIError::internal`.
// - For `Option` types that should always be present (e.g., application data like `Config` or `AppState`), `ok_or_else` is used to convert `None` into an `APIError::internal`.
// - When parsing enums from database strings, `unwrap_or` is used with a sensible default if the `From` implementation is infallible. If the parsing can result in a recoverable error, `map_err` is used to convert the parsing error into an `APIError::internal` or other appropriate `APIError`.
// - In `actix-web` middleware `call` methods returning `Pin<Box<dyn Future<Output = Result<Self::Response, Self::Error>>>>`, the `?` operator is used after `map_err(|e: APIError| actix_web::Error::from(e))` to ensure proper error propagation with `actix_web::Error`.

//
// Notes:
// - `src/main.rs`: The entry point of the application, likely contains the Actix web server setup and routes.
// - `src/schema.rs`: Generated by Diesel, defines the database schema based on migrations.
// - `src/config/mod.rs`: Contains application configuration settings.
// - `src/database/connection.rs`: Handles database connection establishment and pooling.
// - `src/database/constants.rs`: Contains database-related constants.
// - `src/database/enums.rs`: Contains `EmploymentStatus` and `StaffType` enums.
// - `src/database/tables.rs`: Defines Rust structs that map to database tables.
// - `src/errors/mod.rs`: Contains custom error types and error handling logic.
// - `src/handlers/auth.rs`: Contains authentication-related handlers (login, logout, etc.).
// - `src/handlers/hello.rs`: A basic handler, likely for testing the server.
// - `src/handlers/mod.rs`: Aggregates all specific handlers.
// - `src/handlers/oauth.rs`: Contains OAuth-related handlers.
// - `src/handlers/permissions.rs`: Contains CRUD handlers for permissions.
// - `src/handlers/profile.rs`: Contains handlers for user profile management.
// - `src/handlers/role_permissions.rs`: Contains handlers for role-permission assignments.
// - `src/handlers/roles.rs`: Contains CRUD handlers for roles.
// - `src/handlers/staff_roles.rs`: Contains handlers for staff role assignments (`assign_role_to_staff`, `remove_role_from_staff`, `get_staff_roles`).
// - `src/handlers/staff.rs`: Contains CRUD handlers for staff (`get_all_staff`, `get_staff_by_id`, `create_staff`, `update_staff`, `delete_staff`).
// - `src/handlers/teacher_assignments.rs`: Contains handlers for teacher assignments (`assign_class_to_teacher`, `assign_subject_to_teacher`, `get_teacher_workload`).
// - `src/handlers/verification.rs`: Contains handlers for verification processes (e.g., email verification).
// - `src/models/auth.rs`: Contains authentication-related data models.
// - `src/models/mod.rs`: Aggregates all specific data models.
// - `src/models/permissions.rs`: Contains `CreatePermissionRequest`, `UpdatePermissionRequest` and other permission models.
// - `src/models/profile.rs`: Contains data models for user profiles.
// - `src/models/roles.rs`: Contains data models for roles.
// - `src/models/staff_roles.rs`: Contains `AssignRoleToStaffRequest`, `StaffRoleResponse` and other staff role models.
// - `src/models/staff.rs`: Contains `CreateStaffRequest`, `UpdateStaffRequest`, `StaffChangeset`, `StaffResponse` and other staff models.
// - `src/models/teacher_assignments.rs`: Contains `AssignClassToTeacherRequest`, `AssignSubjectToTeacherRequest`, `TeacherClassAssignmentResponse`, `TeacherSubjectAssignmentResponse` and other teacher assignment models.
// - `src/routes/mod.rs`: Defines and aggregates all application routes.
// - `src/services/auth.rs`: Contains authentication-related business logic.
// - `src/services/cleanup.rs`: Likely contains logic for cleaning up resources.
// - `src/services/email.rs`: Handles email sending functionality.
// - `src/services/mod.rs`: Aggregates all specific services.
// - `src/services/oauth.rs`: Contains OAuth-related business logic.
// - `src/services/session.rs`: Manages user sessions.
// - `src/utils/jwt.rs`: Handles JWT token creation and validation.
// - `src/utils/mod.rs`: Aggregates all specific utilities.
// - `src/utils/permission.rs`: Contains `PermissionVerification` middleware.
// - `src/utils/roles.rs`: Contains `RoleVerification` middleware.
// - `src/utils/validation.rs`: Contains data validation utilities.


---

## Progress Legend
- [ğŸ”„] In Progress
- [ğŸ”„] In Progress
- [âœ…] Completed
- [â¸ï¸] Blocked/On Hold

---

## 1. CORE SYSTEM SETUP & INFRASTRUCTURE

### 1.1 Database Schema Design
- [âœ…] Design database schema for all entities
- [âœ…] Create ER diagram for relationships
- [âœ…] Define naming conventions for tables/columns
- [âœ…] Plan indexing strategy for performance

### 1.2 Diesel Migrations Setup
- [âœ…] Initialize Diesel migrations folder
- [âœ…] Configure database connection pooling
- [âœ…] Set up .env file for database credentials
- [âœ…] Test database connection from Rust

### 1.3 Project Structure
- [âœ…] Create modular folder structure (models, controllers, routes, services)
- [âœ…] Set up error handling middleware
- [âœ…] Configure logging (tracing/env_logger)
- [âœ…] Set up CORS configuration
- [âœ…] Create constants file for application-wide settings

---

## 2. AUTHENTICATION & AUTHORIZATION (PRIORITY 1)

### 2.1 User Authentication
- [âœ…] Basic auth system configured (as mentioned)
- [âœ…] Implement JWT token generation
- [âœ…] Implement JWT token validation middleware
- [âœ…] Create refresh token mechanism
- [âœ…] Add password hashing (bcrypt/argon2)
- [âœ…] Create login endpoint
- [âœ…] Create logout endpoint
- [âœ…] Implement password reset flow
- [âœ…] Add account lockout after failed attempts
- [âœ…] Create session management system

### 2.2 Role-Based Access Control (RBAC)
- [âœ…] Define all user roles (Admin, Principal, Vice Principal, Teacher, Student, Parent, Accountant, Librarian, etc.)
- [âœ…] Create roles table migration
- [âœ…] Create permissions table migration
- [âœ…] Create role_permissions junction table migration
- [âœ…] Implement role assignment logic
- [âœ…] Create middleware for role verification
- [âœ…] Create permission checking middleware
- [âœ…] Build role management endpoints (CRUD)
- [âœ…] Build permission management endpoints (CRUD)
- [âœ…] Implement hierarchical role permissions

---

## 3. STAFF MANAGEMENT MODULE

### 3.1 Staff Database Schema
- [âœ…] Create staff table migration (id, employee_id, name, nic, dob, gender, address, phone, email, etc.)
- [âœ…] Create staff_qualifications table migration
- [âœ…] Create staff_employment_history table migration
- [âœ…] Create staff_roles junction table migration
- [âœ…] Create staff_departments table migration
- [âœ…] Create staff_subjects junction table migration (for teachers)
- [âœ…] Add indexes on frequently queried fields

### 3.2 Staff Models & Validation
- [âœ…] Create Staff struct in Rust
- [âœ…] Create StaffQualification struct
- [âœ…] Create StaffEmploymentHistory struct
- [âœ…] Implement validation for staff data (email format, NIC format, phone)
- [âœ…] Create enum for employment status (Permanent, Contract, Temporary)
- [âœ…] Create enum for staff types (Teaching, Non-Teaching, Administrative)

### 3.3 Staff CRUD Operations
- [âœ…] Create staff registration endpoint
- [âœ…] Create staff profile update endpoint
- [âœ…] Create staff retrieval endpoint (single)
- [âœ…] Create staff list endpoint (with pagination)
- - [âœ…] Create staff search endpoint (by name, employee_id, department)
- [âœ…] Create staff filter endpoint (by role, department, employment status)
- [âœ…] Create staff deletion/deactivation endpoint
- [âœ…] Add staff photo upload functionality

### 3.4 Staff Role Assignment
- [âœ…] Create endpoint to assign roles to staff
- [âœ…] Create endpoint to remove roles from staff
- [âœ…] Create endpoint to update staff roles
- [âœ…] Create endpoint to view staff with specific roles
- [âœ…] Implement validation to prevent duplicate role assignments

### 3.5 Teacher-Specific Features
- [âœ…] Create teacher_class_assignments table migration
- [âœ…] Create teacher_subject_assignments table migration
- [âœ…] Create endpoint to assign classes to teachers
- [âœ…] Create endpoint to assign subjects to teachers
- [âœ…] Create endpoint to view teacher workload
- [âœ…] Create endpoint to view teacher timetable
- [âœ…] Implement workload calculation logic

### 3.6 Staff Attendance Management
- [âœ…] Create staff_attendance table migration (date, staff_id, status, time_in, time_out, remarks)
- [âœ…] Create enum for attendance status (Present, Absent, Late, Half-Day, Leave)
- [âœ…] Create staff_leaves table migration (type, from_date, to_date, reason, status)
- [âœ…] Create endpoint to mark staff attendance (daily)
- [âœ…] Create endpoint to mark bulk staff attendance
- [âœ…] Create endpoint to update attendance record
- [âœ…] Create endpoint to view staff attendance by date
- [âœ…] Create endpoint to view staff attendance by staff member
- [âœ…] Create endpoint to calculate monthly attendance percentage
- [âœ…] Create endpoint to apply for leave
- [âœ…] Create endpoint to approve/reject leave
- [âœ…] Create endpoint to view leave balance

---

## 4. STUDENT MANAGEMENT MODULE

### 4.1 Student Database Schema
- [âœ…] Create students table migration (id, admission_number, name, nic/birth_certificate, dob, gender, address, religion, ethnicity, etc.)
- [âœ…] Create student_guardians table migration
- [âœ…] Create student_medical_info table migration
- [âœ…] Create student_emergency_contacts table migration
- [âœ…] Create student_previous_schools table migration
- [âœ…] Add multi-language name fields (Sinhala, Tamil, English)
- [âœ…] Add indexes on admission_number, name fields

### 4.2 Student Models & Validation
- [âœ…] Create Student struct in Rust
- [âœ…] Create StudentGuardian struct
- [âœ…] Create StudentMedicalInfo struct
- [âœ…] Create StudentEmergencyContact struct
- [âœ…] Implement validation for student data
- [âœ…] Create enum for student status (Active, Transferred, Graduated, Withdrawn)
- [âœ…] Create enum for gender
- [âœ…] Create enum for religion
- [âœ…] Create enum for ethnicity

### 4.3 Student CRUD Operations
- [âœ…] Create student registration endpoint
- [âœ…] Generate unique admission number logic
- [âœ…] Create student profile update endpoint
- [âœ…] Create student retrieval endpoint (single)
- [âœ…] Create student list endpoint (with pagination)
- [âœ…] Create student search endpoint (by name, admission_number)
- [âœ…] Create student filter endpoint (by grade, class, status) (Status filtering implemented, Grade/Class filtering pending until `student_class_assignments` is available)
- [âœ…] Add 'status' column to students table
- [âœ…] Create student deletion/deactivation endpoint
- [âœ…] Add student photo upload functionality
- [âœ…] Add 'photo_url' column to students table

### 4.4 Student-Guardian Management
- [âœ…] Create endpoint to add guardian to student
- [âœ…] Create endpoint to update guardian information
- [âœ…] Create endpoint to remove guardian from student
- [âœ…] Create endpoint to view all guardians of a student
- [âœ…] Support multiple guardians per student

### 4.5 Student Class Assignment
- [âœ…] Create student_class_assignments table migration (student_id, academic_year_id, grade_id, class_id, from_date, to_date)
- [âœ…] Create endpoint to assign student to class
- [âœ…] Create endpoint to transfer student to different class (e.g., 10F â†’ 11D)
- [âœ…] Create endpoint to view current class of student
- [âœ…] Create endpoint to view class history of student
- [âœ…] Create endpoint to bulk assign students to classes
- [âœ…] Implement validation to prevent duplicate active assignments
- [âœ…] Create endpoint to promote students to next grade with class assignment

### 4.6 Student Attendance Management
- [âœ…] Create student_attendance table migration (date, student_id, class_id, status, marked_by, remarks)
- [âœ…] Create enum for attendance status (Present, Absent, Late, Excused, Half-Day)
- [âœ…] Create endpoint to mark attendance by class (bulk)
- [âœ…] Create endpoint to mark individual student attendance
- [âœ…] Create endpoint to update attendance record
- [âœ…] Create endpoint to view attendance by class and date
- [âœ…] Create endpoint to view attendance by student
- [âœ…] Create endpoint to calculate attendance percentage
- [âœ…] Create endpoint to generate attendance reports (daily, weekly, monthly)
- [âœ…] Create endpoint to get students with low attendance
- [âœ…] Add email notification for absent students to parents

---

## 5. ACADEMIC STRUCTURE MODULE

### 5.1 Academic Year Management
- [âœ…] Create academic_years table migration (id, year_name, start_date, end_date, is_active)
- [âœ…] Create terms table migration (id, academic_year_id, term_number, name, start_date, end_date)
- [âœ…] Create endpoint to create academic year
- [âœ…] Create endpoint to update academic year
- [âœ…] Create endpoint to activate/deactivate academic year
- [âœ…] Create endpoint to create terms
- [âœ…] Create endpoint to view current academic year
- [âœ…] Create endpoint to view all academic years
- [âœ…] Implement validation to ensure only one active academic year

### 5.2 Grade & Stream Management
- [âœ…] Create grades table migration (id, grade_number, grade_name, education_level)
- [âœ…] Create streams table migration (id, stream_name - Science, Commerce, Arts, Technology)
- [âœ…] Create grade_streams junction table migration (for Grades 12-13)
- [âœ…] Create enum for education levels (Primary 1-5, Junior Secondary 6-9, Senior Secondary 10-11, Collegiate 12-13)
- [âœ…] Seed grades 1-13 into database
- [âœ…] Create endpoint to manage grades
- [âœ…] Create endpoint to manage streams
- [âœ…] Create endpoint to assign streams to grades

### 5.3 Class/Section Management
- [âœ…] Create classes table migration (id, grade_id, section_name, academic_year_id, class_teacher_id, medium, room_number, max_capacity)
- [âœ…] Create enum for medium (Sinhala, Tamil, English)
- [âœ…] Create endpoint to create class
- [âœ…] Create endpoint to update class
- [âœ…] Create endpoint to delete class
- [âœ…] Create endpoint to view classes by grade
- [âœ…] Create endpoint to view all classes
- [âœ…] Create endpoint to assign class teacher
- [âœ…] Implement capacity validation when assigning students

### 5.4 Subject Management
- [âœ…] Create subjects table migration (id, subject_code, subject_name_en, subject_name_si, subject_name_ta, is_core, grade_level)
- [âœ…] Create grade_subjects junction table migration
- [âœ…] Create stream_subjects junction table migration (for A/L subjects)
- [âœ…] Create endpoint to create subject
- [âœ…] Create endpoint to update subject
- [âœ…] Create endpoint to delete subject
- [âœ…] Create endpoint to view subjects by grade
- [âœ…] Create endpoint to view subjects by stream
- [âœ…] Create endpoint to assign subjects to grades
- [âœ…] Create endpoint to assign subjects to streams

### 5.5 Class-Subject-Teacher Assignment
- [âœ…] Create class_subject_teachers table migration (class_id, subject_id, teacher_id, academic_year_id)
- [âœ…] Create endpoint to assign subject and teacher to class
- [âœ…] Create endpoint to update class-subject-teacher assignment
- [âœ…] Create endpoint to remove assignment
- [âœ…] Create endpoint to view all subjects taught in a class
- [âœ…] Create endpoint to view all classes a teacher teaches
- [âœ…] Implement validation to prevent duplicate assignments

### 5.6 Timetable Management
- [âœ…] Create timetable table migration (id, class_id, day_of_week, period_number, subject_id, teacher_id, start_time, end_time, room)
- [âœ…] Create enum for days of week
- [âœ…] Create endpoint to create timetable entry
- [âœ…] Create endpoint to update timetable entry
- [âœ…] Create endpoint to delete timetable entry
- [âœ…] Create endpoint to view timetable by class
- [âœ…] Create endpoint to view timetable by teacher
- [âœ…] Create endpoint to bulk create timetable for a class
- [âœ…] Implement validation to prevent scheduling conflicts

---

## 6. ASSESSMENT & GRADING MODULE

### 6.1 Exam/Assessment Configuration
- [âœ…] Create exam_types table migration (id, name, description, weightage)
- [âœ…] Create exams table migration (id, exam_type_id, name, academic_year_id, term_id, start_date, end_date)
- [âœ…] Create exam_subjects table migration (exam_id, subject_id, date, time, duration, max_marks, pass_marks)
- [âœ…] Create endpoint to create exam types
- [âœ…] Create endpoint to create exams
- [âœ…] Create endpoint to configure exam subjects
- [âœ…] Create endpoint to view exams by term
- [âœ…] Create endpoint to view exam schedule

### 6.2 Paper Marks Entry System
- [âœ…] Create student_marks table migration (id, student_id, exam_subject_id, marks_obtained, is_absent, remarks, entered_by, entered_at, updated_by, updated_at)
- [âœ…] Create endpoint to enter marks for a student (single)
- [âœ…] Create endpoint to enter marks for multiple students (bulk)
- [âœ…] Create endpoint to update student marks
- [âœ…] Create endpoint to view marks by student
- [âœ…] Create endpoint to view marks by exam and class
- [âœ…] Create endpoint to mark student as absent for exam
- [âœ…] Implement validation for marks range (0 to max_marks)
- [âœ…] Add audit trail for marks entry/modification

### 6.3 Grading System
- [âœ…] Create grading_schemes table migration (id, name, grade_level, description)
- [âœ…] Create grading_criteria table migration (id, scheme_id, min_marks, max_marks, grade, grade_point, description)
- [âœ…] Create endpoint to create grading scheme
- [âœ…] Create endpoint to create grading criteria
- [âœ…] Create endpoint to assign grading scheme to grade level
- [âœ…] Implement automatic grade calculation based on marks
- [âœ…] Create endpoint to view grading scheme
- [âœ…] Support percentage-based and marks-based grading

### 6.4 Z-Score Calculation (for A/L)
- [âœ…] Create zscore_calculations table migration (exam_id, subject_id, mean, std_deviation, calculated_at)
- [âœ…] Create student_zscores table migration (student_id, exam_subject_id, zscore)
- [âœ…] Implement z-score calculation algorithm
- [âœ…] Create endpoint to calculate z-scores for an exam
- [âœ…] Create endpoint to view z-scores by student
- [âœ…] Create endpoint to view z-score distribution by subject
- [âœ…] Implement z-score ranking logic

### 6.5 Special Exams Tracking
- [âœ…] Create scholarship_exams table migration (for Grade 5)
- [âœ…] Create ol_exams table migration (for Grades 10-11)
- [âœ…] Create al_exams table migration (for Grades 12-13 with stream)
- [âœ…] Create endpoint to register students for scholarship exam
- [âœ…] Create endpoint to register students for O/L exam
- [âœ…] Create endpoint to register students for A/L exam
- [âœ…] Create endpoint to enter results for special exams
- [âœ…] Create endpoint to track exam registration status

### 6.6 Report Cards & Progress Reports
- [âœ…] Create report_cards table migration (student_id, academic_year_id, term_id, generated_at, generated_by)
- [âœ…] Create report_card_marks table migration (linked to student marks)
- [âœ…] Create endpoint to generate individual report card
- [âœ…] Create endpoint to generate bulk report cards for a class
- [âœ…] Create endpoint to view student progress over terms
- [âœ…] Implement GPA/average calculation logic
- [âœ…] Create endpoint to calculate class rank
- [âœ…] Create endpoint to calculate subject-wise rank
- [âœ…] Add support for teacher comments in report cards

---

## 7. FEE MANAGEMENT MODULE

### 7.1 Fee Structure Setup
- [âœ…] Create fee_categories table migration (id, name, description, is_mandatory)
- [âœ…] Create fee_structures table migration (id, grade_id, academic_year_id, category_id, amount, due_date, frequency)
- [âœ…] Create enum for fee frequency (Monthly, Quarterly, Annually, One-Time)
- [âœ…] Create endpoint to create fee categories
- [âœ…] Create endpoint to create fee structure
- [âœ…] Create endpoint to update fee structure
- [âœ…] Create endpoint to view fee structure by grade
- [âœ…] Create endpoint to view fee structure by academic year

### 7.2 Student Fee Assignment
- [âœ…] Create student_fees table migration (id, student_id, fee_structure_id, amount, is_exempted, exemption_reason)
- [âœ…] Create endpoint to assign fees to student
- [âœ…] Create endpoint to mark student as fee-exempted (low income)
- [âœ…] Create endpoint to apply fee waiver/discount
- [âœ…] Create endpoint to view fees assigned to student
- [âœ…] Create endpoint to bulk assign fees to students in a grade

### 7.3 Fee Collection & Payment
- [âœ…] Create fee_payments table migration (id, student_fee_id, amount_paid, payment_date, payment_method, receipt_number, collected_by, remarks)
- [âœ…] Create enum for payment methods (Cash, Bank Transfer, Cheque, Online)
- [âœ…] Create endpoint to record fee payment
- [âœ…] Generate unique receipt number logic
- [âœ…] Create endpoint to view payment history by student
- [âœ…] Create endpoint to view payments by date range
- [âœ…] Create endpoint to calculate outstanding balance
- [âœ…] Create endpoint to generate fee receipt (PDF)
- [âœ…] Create endpoint to view defaulters list

### 7.4 Fee Reporting
- [âœ…] Create endpoint to generate fee collection report (daily, monthly, yearly)
- [âœ…] Create endpoint to view fee collection by category
- [âœ…] Create endpoint to view fee collection by grade
- [âœ…] Create endpoint to calculate total collected vs expected
- [âœ…] Create endpoint to view exempted students list
- [âœ…] Create endpoint to export fee reports

### 7.5 Fee Reminders & Notifications
- [âœ…] Create endpoint to get students with pending fees
- [âœ…] Create endpoint to send email reminders for due fees
- [âœ…] Implement automated reminder scheduling
- [âœ…] Create endpoint to send payment confirmation emails

---

## 8. LIBRARY MANAGEMENT MODULE

### 8.1 Library Setup
- [âœ…] Create library_categories table migration (Fiction, Non-Fiction, Reference, Textbooks, etc.)
- [âœ…] Create library_books table migration (id, isbn, title, author, publisher, category_id, quantity, available_quantity, rack_number, added_date)
- [âœ…] Create endpoint to add book to library
- [âœ…] Create endpoint to update book details
- [âœ…] Create endpoint to delete book
- [âœ…] Create endpoint to search books (by title, author, ISBN, category)
- [âœ…] Create endpoint to view all books
- [âœ…] Create endpoint to view books by category

### 8.2 Book Issuing System
- [âœ…] Create library_issues table migration (id, book_id, student_id, staff_id, issue_date, due_date, return_date, issued_by, fine_amount, fine_paid)
- [âœ…] Create library_settings table migration (max_books_per_student, issue_duration_days, fine_per_day)
- [âœ…] Create endpoint to issue book to student
- [âœ…] Create endpoint to issue book to staff
- [âœ…] Create endpoint to return book
- [âœ…] Create endpoint to view issued books by student/staff
- [âœ…] Create endpoint to view overdue books
- [âœ…] Implement automatic due date calculation
- [âœ…] Update available quantity on issue/return

### 8.3 Fine Management
- [âœ…] Create endpoint to calculate fine for overdue books
- [âœ…] Create endpoint to record fine payment
- [âœ…] Create endpoint to view fine history
- [âœ…] Create endpoint to waive fine
- [âœ…] Implement automatic fine calculation logic

### 8.4 Library Reporting
- [âœ…] Create endpoint to generate library usage report
- [âœ…] Create endpoint to view most issued books
- [âœ…] Create endpoint to view active borrowers
- [âœ…] Create endpoint to generate inventory report


---

## 9. CO-CURRICULAR ACTIVITIES MODULE

### 9.1 Sports Management
- [âœ…] Create sports table migration (id, sport_name, description, category)
- [âœ…] Create sport_teams table migration (id, sport_id, team_name, grade_level, coach_id)
- [âœ…] Create sport_team_members table migration (team_id, student_id, position, joined_date)
- [âœ…] Create sport_events table migration (id, sport_id, event_name, event_date, venue, organizer)
- [âœ…] Create sport_event_participants table migration (event_id, student_id, team_id, position, points)
- [âœ…] Create endpoint to create sports
- [âœ…] Create endpoint to create teams
- [âœ…] Create endpoint to add students to teams
- [âœ…] Create endpoint to create sport events
- [âœ…] Create endpoint to record event results
- [âœ…] Create endpoint to view team roster
- [âœ…] Create endpoint to view student sport participation history

### 9.2 Clubs & Societies Management
- [âœ…] Create clubs table migration (id, club_name, description, teacher_in_charge_id, meeting_schedule)
- [âœ…] Create club_members table migration (club_id, student_id, role, joined_date)
- [âœ…] Create club_activities table migration (id, club_id, activity_name, activity_date, description, participants)
- [âœ…] Create endpoint to create clubs
- [âœ…] Create endpoint to add students to clubs
- [âœ…] Create endpoint to assign roles in clubs (President, Secretary, etc.)
- [âœ…] Create endpoint to create club activities
- [âœ…] Create endpoint to record activity participation
- [âœ…] Create endpoint to view club membership
- [âœ…] Create endpoint to view student club participation

### 9.3 Competitions & Achievements
- [âœ…] Create competitions table migration (id, competition_name, type, date, organizer, level)
- [âœ…] Create enum for competition level (School, District, Provincial, National, International)
- [âœ…] Create competition_participants table migration (competition_id, student_id, position, award)
- [âœ…] Create student_achievements table migration (student_id, achievement_type, description, date, certificate_url)
- [âœ…] Create endpoint to create competition
- [âœ…] Create endpoint to add participants to competition
- [âœ…] Create endpoint to record competition results
- [âœ…] Create endpoint to add student achievement
- [âœ…] Create endpoint to view student achievement history
- [âœ…] Create endpoint to view school achievements summary

### 9.4 Cultural Activities
- [âœ…] Create cultural_events table migration (id, event_name, event_date, venue, description)
- [âœ…] Create cultural_event_participants table migration (event_id, student_id, performance_type, role)
- [âœ…] Create endpoint to create cultural events
- [âœ…] Create endpoint to add participants to events
- [âœ…] Create endpoint to record participation
- [âœ…] Create endpoint to view event details
- [âœ…] Create endpoint to view student cultural participation

---

## 10. SCHOOL PROPERTY MANAGEMENT MODULE

### 10.1 Asset Categories Setup
- [âœ…] Create asset_categories table migration (Uniforms, Stationery, Furniture, Electronics, Sports Equipment, etc.)
- [âœ…] Create endpoint to create asset categories
- [âœ…] Create endpoint to view all categories

### 10.2 Inventory Management
- [âœ…] Create inventory_items table migration (id, category_id, item_name, description, unit, quantity, reorder_level, unit_price)
- [âœ…] Create endpoint to add inventory item
- [âœ…] Create endpoint to update inventory item
- [âœ…] Create endpoint to update stock quantity
- [âœ…] Create endpoint to view inventory by category
- [âœ…] Create endpoint to view low stock items
- [âœ…] Create endpoint to search inventory

### 10.3 Uniform/Clothing Management
- [âœ…] Create uniform_items table migration (id, item_name, size, gender, grade_level, price)
- [âœ…] Create uniform_issues table migration (id, student_id, uniform_item_id, quantity, issue_date, issued_by, amount_collected)
- [âœ…] Create endpoint to create uniform items
- [âœ…] Create endpoint to issue uniform to student
- [âœ…] Create endpoint to record uniform payment (integrated in issue)
- [âœ…] Create endpoint to view uniform issue history
- [âœ…] Create endpoint to view uniform inventory

### 10.4 Asset Allocation
- [âœ…] Create asset_allocations table migration (id, item_id, allocated_to_type, allocated_to_id, quantity, allocation_date, return_date, allocated_by)
- [âœ…] Create enum for allocation type (Student, Teacher, Department, Class)
- [âœ…] Create endpoint to allocate asset
- [âœ…] Create endpoint to return asset
- [âœ…] Create endpoint to view allocations by item
- [âœ…] Create endpoint to view allocations by person/department

### 10.5 Maintenance & Repairs
- [âœ…] Create maintenance_requests table migration (id, item_id, issue_description, reported_by, reported_date, status, assigned_to, resolved_date)
- [âœ…] Create enum for maintenance status (Pending, In Progress, Completed, Cancelled)
- [âœ…] Create endpoint to create maintenance request
- [âœ…] Create endpoint to update maintenance status
- [âœ…] Create endpoint to view pending maintenance requests
- [âœ…] Create maintenance history

---

## 11. FINANCIAL MANAGEMENT MODULE

### 11.1 Budget Management
- [âœ…] Create budget_categories table migration (Salaries, Utilities, Maintenance, Sports, Events, etc.)
- [âœ…] Create budgets table migration (id, academic_year_id, category_id, allocated_amount, spent_amount)
- [âœ…] Create endpoint to create budget categories
- [âœ…] Create endpoint to set budget for academic year
- [âœ…] Create endpoint to update budget allocation
- [âœ…] Create endpoint to view budget summary
- [âœ…] Create endpoint to view budget vs actual spending

### 11.2 Income Tracking
- [âœ…] Create income_sources table migration (Fees, Donations, Government Grants, Fundraising, etc.)
- [âœ…] Create income_transactions table migration (id, source_id, amount, date, description, received_by, receipt_number)
- [âœ…] Create endpoint to record income transaction
- [âœ…] Create endpoint to view income by source
- [âœ…] Create endpoint to view income by date range
- [âœ…] Create endpoint to generate income report

### 11.3 Expense Tracking
- [âœ…] Create expense_categories table migration (overlaps with budget categories)
- [âœ…] Create expense_transactions table migration (id, category_id, amount, date, description, vendor, payment_method, approved_by, receipt_url)
- [âœ…] Create endpoint to record expense transaction
- [âœ…] Create endpoint to view expenses by category
- [âœ…] Create endpoint to view expenses by date range
- [âœ…] Create endpoint to generate expense report
- [âœ…] Implement budget validation before expense approval

### 11.4 Petty Cash Management
- [âœ…] Create petty_cash_transactions table migration (id, amount, type, date, description, handled_by)
- [âœ…] Create enum for transaction type (Received, Spent)
- [âœ…] Create endpoint to record petty cash transaction
- [âœ…] Create endpoint to view petty cash balance
- [âœ…] Create endpoint to view petty cash history
- [âœ…] Create endpoint to reconcile petty cash

### 11.5 Salary Management
- [âœ…] Create salary_components table migration (Basic, Allowances, Deductions, etc.)
- [âœ…] Create staff_salaries table migration (staff_id, component_id, amount, effective_from)
- [âœ…] Create salary_payments table migration (id, staff_id, month, year, gross_salary, deductions, net_salary, payment_date, payment_method)
- [âœ…] Create endpoint to create salary component
- [âœ…] Create endpoint to set staff salary
- [âœ…] Create endpoint to record salary payment
