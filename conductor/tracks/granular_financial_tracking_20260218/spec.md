# Specification: Granular Financial Tracking

## Overview

This track introduces a double-entry accounting system to the financial module. The goal is to provide robust, auditable financial tracking that enables true financial reporting, such as balance sheets and income statements.

## Functional Requirements

1.  **`chart_of_accounts` Table:**
    *   Create a `chart_of_accounts` table to define all financial accounts (e.g., "Tuition Fee Income," "Salaries Expense," "Bank Account").

2.  **`general_ledger` Table:**
    *   Create a `general_ledger` table with columns for `date`, `description`, `debit_account_id`, `credit_account_id`, and `amount`.

3.  **Transaction Integration:**
    *   Every financial transaction (e.g., a fee payment, an expense) must generate corresponding debit and credit entries in the `general_ledger`.
    *   For example, a student paying tuition would debit the "Bank Account" and credit the "Tuition Fee Income" account.

## Non-Functional Requirements

*   **Data Integrity:** All new relationships must be enforced with foreign key constraints.
*   **Accuracy:** The sum of all debits must always equal the sum of all credits in the `general_ledger`.

## Acceptance Criteria

*   When a fee payment is recorded, corresponding entries are created in the `general_ledger`.
*   When an expense is recorded, corresponding entries are created in the `general_ledger`.
*   A basic balance sheet can be generated by querying the `general_ledger`.

## Out of Scope

*   This track does not include the UI/frontend for managing the chart of accounts or viewing financial reports.
*   This track does not include migrating historical financial data to the new system.
